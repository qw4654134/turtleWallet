import{g as t,f as r,s as e}from"./index.0a4c0685.js";const n={token_list_key:"storage_token_list",getList:function(){try{var r=t(this.token_list_key),e=JSON.parse(r);return Array.isArray(e)?e:[]}catch(n){return!1}},saveTokenInfo:function(t){var n=this.getList();if(n||(n=[]),!t)return!1;for(var o=0;o<n.length;o++)if(String(n[o].contract_address).toLowerCase()==String(t.contract_address).toLowerCase()){n.splice(o,1);break}n.push(t);try{return r(this.token_list_key,JSON.stringify(n)),console.log("已存储token:"+t.contract_address),!0}catch(i){return console.log(i),e({title:"Failed to save token info"}),!1}},getToken:function(t){var r=this.getList();if(!r)return!1;for(let e of r)if(String(t).toLowerCase()==String(e.contract_address).toLowerCase())return e;return!1},delToken:function(t){var e=this.getList();if(!e)return!1;for(var n=0;n<e.length;n++)if(String(e[n].contract_address).toLowerCase()==String(t).toLowerCase()){e.splice(n,1),r(this.token_list_key,JSON.stringify(e));break}return!0},verifyContractStandardFunc(t){if(!Array.isArray(t))return!1;let r=[{name:"symbol",verify:!1},{name:"decimals",verify:!1},{name:"transfer",verify:!1},{name:"totalSupply",verify:!1}];for(let e of t)if(e.type&&"function"==e.type&&e.name)for(let t of r)t.name==e.name&&(t.verify=!0);for(let e of r)if(!e.verify)return!1;return!0}};export{n as T};
