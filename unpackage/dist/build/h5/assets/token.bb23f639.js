import{g as t,f as e,s as r}from"./index.e3856387.js";const n={token_list_key:"storage_token_list",getList:function(){try{var e=t(this.token_list_key),r=JSON.parse(e);return Array.isArray(r)?r:[]}catch(n){return!1}},saveTokenInfo:function(t){var n=this.getList();if(n||(n=[]),!t)return!1;for(var o=0;o<n.length;o++)if(String(n[o].contract_address).toLowerCase()==String(t.contract_address).toLowerCase()){n.splice(o,1);break}n.push(t);try{return e(this.token_list_key,JSON.stringify(n)),console.log("已存储token:"+t.contract_address),!0}catch(i){return console.log(i),r({title:"Failed to save token info"}),!1}},getToken:function(t){var e=this.getList();if(!e)return!1;for(let r of e)if(String(t).toLowerCase()==String(r.contract_address).toLowerCase())return r;return!1},delToken:function(t){var r=this.getList();if(!r)return!1;for(var n=0;n<r.length;n++)if(String(r[n].contract_address).toLowerCase()==String(t).toLowerCase()){r.splice(n,1),e(this.token_list_key,JSON.stringify(r));break}return!0},verifyContractStandardFunc(t){if(!Array.isArray(t))return!1;let e=[{name:"symbol",verify:!1},{name:"decimals",verify:!1},{name:"transfer",verify:!1},{name:"totalSupply",verify:!1}];for(let r of t)if(r.type&&"function"==r.type&&r.name)for(let t of e)t.name==r.name&&(t.verify=!0);for(let r of e)if(!r.verify)return!1;return!0}};export{n as T};
